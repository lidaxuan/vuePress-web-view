<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SPI | 李大玄-web</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="个人笔记">
    
    <link rel="preload" href="/vuePress-web-view/assets/css/0.styles.c2718638.css" as="style"><link rel="preload" href="/vuePress-web-view/assets/js/app.0674b7fb.js" as="script"><link rel="preload" href="/vuePress-web-view/assets/js/2.d261dd2c.js" as="script"><link rel="preload" href="/vuePress-web-view/assets/js/171.2d33cace.js" as="script"><link rel="prefetch" href="/vuePress-web-view/assets/js/10.6d9ba7d8.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/100.31b77e2e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/101.ee0393a7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/102.62b0de77.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/103.cde477ae.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/104.86f7f5d1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/105.d8b941ff.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/106.046965bd.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/107.5e123b46.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/108.51d14412.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/109.4ee21dda.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/11.aa124183.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/110.51ce9482.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/111.3134720d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/112.4934d28a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/113.5a0c0c44.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/114.6255ad43.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/115.ea5182be.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/116.47a622f4.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/117.716c491c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/118.071c6285.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/119.7a6e021c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/12.6c24c48c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/120.ab41de76.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/121.67c30044.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/122.5dd78923.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/123.295a7cf9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/124.e6848b43.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/125.f9e1ba3d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/126.25a339af.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/127.cfa13d1b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/128.a660fd48.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/129.723fc978.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/13.7536825e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/130.825d5407.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/131.1c4caec5.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/132.76955d06.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/133.5262be92.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/134.9459ac4a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/135.4bcb8999.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/136.51fd3863.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/137.cf22d35b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/138.3296743c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/139.c451aeaf.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/14.5f6ab039.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/140.4442fa69.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/141.b560a8bf.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/142.41b5c65c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/143.813797d7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/144.eb96bb63.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/145.a78fc958.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/146.6d15a7e9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/147.70153601.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/148.9e6b955b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/149.92c2c8df.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/15.d1ba5ef1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/150.c3d2e253.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/151.54213f53.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/152.7cb0aa94.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/153.a010c82d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/154.63713aa1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/155.97b1695b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/156.06cbe63c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/157.1fd74dac.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/158.ae79b86e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/159.1e210453.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/16.10d47ed6.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/160.168325e2.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/161.65d106cd.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/162.47439c30.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/163.13a051f3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/164.9688da6e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/165.44c364f1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/166.e2c3fb6a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/167.33108abf.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/168.55572fde.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/169.6ca1adee.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/17.ce4e9e1d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/170.79a37ca8.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/172.da9eba19.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/173.dbc6bd57.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/174.72f6b0ed.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/175.044690a7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/176.0aa0031f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/177.905ca2f1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/178.689f9bde.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/179.3140fdb1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/18.fc7569c0.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/180.14706387.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/181.1da8b278.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/182.0c9d3de4.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/183.db9bb28f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/184.a30825b2.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/185.cac342f7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/186.e2229f99.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/187.29828397.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/188.8c859246.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/189.c40988c1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/19.b80a2534.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/190.d199a38f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/191.e1beb53d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/192.b451724c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/193.f7f78709.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/194.0b756fbc.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/195.a01808fc.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/196.eacb92b6.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/197.36228085.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/198.1fcb2012.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/199.2bc79d9f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/20.001e14ea.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/200.32501a54.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/201.141d718b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/202.e8e76e1a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/203.5ab9e09c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/204.c3d3f2d6.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/205.5de7d949.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/206.26293a7b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/207.6fbf05cb.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/208.fc1e5a5e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/209.2138c1a1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/21.65736d36.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/210.1bb356dc.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/211.be7dafa7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/212.93dfd6d7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/213.2b65fa2d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/214.5bb17ac2.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/215.ad7adc9b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/216.6d747031.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/217.2883609a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/218.d686e6ca.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/219.99a0809d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/22.aff597b3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/220.0c01def1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/221.8255ede9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/222.953aa5df.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/223.bbf611e7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/224.747c2f53.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/225.6450ae83.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/226.8c4c94c8.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/227.4ef9847f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/228.fefd00c2.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/229.43845728.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/23.cb4e6393.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/230.310eb7fd.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/231.b82875a0.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/232.a750c051.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/233.1bb5e658.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/234.ced3c170.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/235.71151863.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/236.f5236a54.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/237.9b0fddf4.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/238.1d85aa3c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/239.55c686df.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/24.4e9c7374.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/240.8ed8a95d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/241.93248fc5.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/242.2abeebb9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/243.4dc0b22c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/244.17235dd6.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/245.9c96d79b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/246.eb0f0f5a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/247.42d07f5f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/248.9f2f9b5f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/249.51c38514.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/25.1dad2c88.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/250.2bb48bf4.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/251.4816f3b5.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/252.fd82ef29.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/253.c3dbb037.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/254.c6d1ff96.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/255.b08a6e46.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/256.305be41a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/257.a288c901.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/258.49e1d831.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/259.5df1f9ec.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/26.d726f8bb.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/260.818a7777.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/261.2e72931f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/262.e6be01fb.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/263.ce4a3070.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/264.daef3a1d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/265.d6740a1b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/266.8422a511.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/267.af338025.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/268.e35f3cee.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/269.ec7deeb9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/27.74f38749.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/270.3686c7a3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/271.acce07c7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/272.0dc5a20b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/273.161cacbc.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/274.f6cd8a7f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/275.8f27f04e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/276.dada3691.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/277.12784d38.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/278.e002d6c3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/279.f3f35690.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/28.b96502c7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/280.37eccee1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/281.f2c8abdd.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/282.0b154eba.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/283.44cc8b33.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/284.ca6cd21c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/285.f952144f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/286.f0269bb5.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/287.9d7c0119.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/288.c3e040c7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/289.a3e85c0a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/29.798fb142.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/290.3c1e77d4.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/291.18ea342f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/292.63bc64d3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/293.ade9c47c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/294.1c7031ca.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/295.4132de34.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/296.e6db423d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/297.61b0ab15.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/298.c60e021c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/299.b1c1edbb.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/3.9195152d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/30.9c8836e9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/300.ad8fd799.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/301.3aed5aee.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/31.66a9ec71.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/32.fa0cb0d1.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/33.3e29ea12.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/34.968e5ad2.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/35.93f874b9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/36.a445dc21.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/37.9cdd18c9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/38.b750b213.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/39.7eab92a9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/4.1014300c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/40.28fcee8e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/41.1bab8de4.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/42.9504390a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/43.21080607.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/44.90112286.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/45.5b3c3bf5.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/46.b0992a66.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/47.37edd10c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/48.7161ac28.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/49.ee2ff29c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/5.bc4c35f3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/50.d98c809b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/51.003379e3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/52.3cfd5e0e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/53.1f29e84a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/54.16c717f5.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/55.1372a766.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/56.18a1aa2d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/57.5d126f2c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/58.3519becf.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/59.65f5c903.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/6.dd277a42.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/60.053bf54e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/61.757778a6.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/62.8d980feb.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/63.342989dd.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/64.edb0f28d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/65.5c5f8fae.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/66.2e0bc349.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/67.483aceff.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/68.f7c40cbe.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/69.ac42631b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/7.9d24af86.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/70.c63ee9fd.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/71.4ef64120.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/72.0a1fb380.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/73.c2114d8f.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/74.5659edd9.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/75.9ff87c47.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/76.6ce68a01.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/77.b6dfb7ce.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/78.a80d8994.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/79.f322e93a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/8.8312b405.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/80.3a9c857a.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/81.9c6ab87c.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/82.27aa72d3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/83.659437d3.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/84.b4dc08b8.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/85.474bd680.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/86.81560961.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/87.4a59d71d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/88.3dd471cf.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/89.c8b4e065.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/9.b60c2467.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/90.c67ae49d.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/91.ba9ff1f7.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/92.1a864c0e.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/93.dc4a3154.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/94.ff62835b.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/95.6610cd53.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/96.344453d0.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/97.c2ff08a2.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/98.b29b39de.js"><link rel="prefetch" href="/vuePress-web-view/assets/js/99.dabe0ca8.js">
    <link rel="stylesheet" href="/vuePress-web-view/assets/css/0.styles.c2718638.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuePress-web-view/" class="home-link router-link-active"><img src="https://img-blog.csdnimg.cn/211e986a4c1a41ab8e36c7d1123c9d89.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA0LzQvuS7meWgoeadoOaKiuWtkOOBlOeBrA==,size_16,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="李大玄-web" class="logo"> <span class="site-name can-hide">李大玄-web</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuePress-web-view/%E3%80%8AJava%E3%80%8B%E7%AC%94%E8%AE%B0/01.前端/25.JavaScript文章/01.33个非常实用的JavaScript一行代码.html" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://google.com" target="_self" class="nav-link external">
  External
  <!----></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuePress-web-view/%E3%80%8AJava%E3%80%8B%E7%AC%94%E8%AE%B0/01.前端/25.JavaScript文章/01.33个非常实用的JavaScript一行代码.html" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://google.com" target="_self" class="nav-link external">
  External
  <!----></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>01.前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>02.页面</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>03.技术</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>04.更多</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>05.关于</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>06.收藏夹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>07.开发规范</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>08.vscode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>09.语法文档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《ES6 教程》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《GO》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《Git》学习笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《IDE》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《JavaScript教程》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>《Java》笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuePress-web-view/《Java》笔记/Annotation.html" class="sidebar-link">Annotation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#jdk" class="sidebar-link">JDK</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#servlet" class="sidebar-link">Servlet</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#validation" class="sidebar-link">Validation</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#jax-rs" class="sidebar-link">JAX-RS</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#spring" class="sidebar-link">Spring</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#声明bean的注解" class="sidebar-link">声明bean的注解</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#注入bean的注解" class="sidebar-link">注入bean的注解</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#java配置类相关注解" class="sidebar-link">java配置类相关注解</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#切面-aop-相关注解" class="sidebar-link">切面（AOP）相关注解</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#bean的属性支持" class="sidebar-link">@Bean的属性支持</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#value注解" class="sidebar-link">@Value注解</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#环境切换" class="sidebar-link">环境切换</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#异步相关" class="sidebar-link">异步相关</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#定时任务相关" class="sidebar-link">定时任务相关</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#enable-注解说明" class="sidebar-link">@Enable*注解说明</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#测试相关注解" class="sidebar-link">测试相关注解</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#springmvc注解" class="sidebar-link">SpringMVC注解</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#swagger2" class="sidebar-link">Swagger2</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Annotation.html#jackson" class="sidebar-link">Jackson</a></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/CAS-Shiro.html" class="sidebar-link">CAS-Shiro</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/CAS-Shiro.html#方案一" class="sidebar-link">方案一</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/CAS-Shiro.html#方案二" class="sidebar-link">方案二</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/CAS-Shiro.html#方案三" class="sidebar-link">方案三</a></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html" class="sidebar-link">JDK安装配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#openjdk" class="sidebar-link">OpenJDK</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#源码包" class="sidebar-link">源码包</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#通用vm" class="sidebar-link">通用VM</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#jvm" class="sidebar-link">JVM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#常用参数" class="sidebar-link">常用参数</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#参考参数" class="sidebar-link">参考参数</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#linux安装jdk" class="sidebar-link">Linux安装JDK</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK安装配置.html#windows环境变量" class="sidebar-link">Windows环境变量</a></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/JDK工具.html" class="sidebar-link">JDK工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#监控分析" class="sidebar-link">监控分析</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#反编译工具" class="sidebar-link">反编译工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#tools" class="sidebar-link">tools</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#基本工具" class="sidebar-link">基本工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#安全工具" class="sidebar-link">安全工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#java国际化工具" class="sidebar-link">Java国际化工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#远程方法调用工具" class="sidebar-link">远程方法调用工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#idl和rmi-iiop工具" class="sidebar-link">IDL和RMI-IIOP工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#java部署工具" class="sidebar-link">Java部署工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#java-web工具" class="sidebar-link">Java web工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#jdk监控工具" class="sidebar-link">JDK监控工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#故障检测和修理工具" class="sidebar-link">故障检测和修理工具</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/JDK工具.html#其他工具" class="sidebar-link">其他工具</a></li></ul></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/Java构建管理.html" class="sidebar-link">Java构建管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java构建管理.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java构建管理.html#ant" class="sidebar-link">Ant</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java构建管理.html#maven" class="sidebar-link">Maven</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java构建管理.html#maven命令" class="sidebar-link">Maven命令</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java构建管理.html#maven私服搭建" class="sidebar-link">Maven私服搭建</a></li></ul></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/Java笔记.html" class="sidebar-link">Java笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#多行字符串" class="sidebar-link">多行字符串</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#函数重载" class="sidebar-link">函数重载</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#关键保留字" class="sidebar-link">关键保留字</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#访问控制修饰符" class="sidebar-link">访问控制修饰符</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#classpath意义" class="sidebar-link">classpath意义</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#日期时间" class="sidebar-link">日期时间</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#roundingmode" class="sidebar-link">RoundingMode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#几个参数详解" class="sidebar-link">几个参数详解</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#java锁" class="sidebar-link">Java锁</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#synchronized" class="sidebar-link">synchronized</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#java异常" class="sidebar-link">Java异常</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#协程" class="sidebar-link">协程</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#http" class="sidebar-link">HTTP</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Java笔记.html#泛型generics" class="sidebar-link">泛型generics</a></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/ORM.html" class="sidebar-link">ORM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#jdbc驱动" class="sidebar-link">JDBC驱动</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#mybatis" class="sidebar-link">Mybatis</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#hibernate" class="sidebar-link">Hibernate</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#返回结果接收方式" class="sidebar-link">返回结果接收方式</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#hql查询" class="sidebar-link">HQL查询</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#qbc查询" class="sidebar-link">QBC查询</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#关闭session" class="sidebar-link">关闭session</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#只读错误" class="sidebar-link">只读错误</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#编程式修改flushmode" class="sidebar-link">编程式修改FlushMode</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#配置过滤器" class="sidebar-link">配置过滤器</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/ORM.html#使用execute方法回调方式实现" class="sidebar-link">使用execute方法回调方式实现</a></li></ul></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/SPI.html" class="active sidebar-link">SPI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/SPI.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/SPI.html#什么是-spi" class="sidebar-link">什么是 SPI？</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/SPI.html#jdk-中的-spi" class="sidebar-link">JDK 中的 SPI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/SPI.html#实例以及测试" class="sidebar-link">实例以及测试</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/SPI.html#源码分析" class="sidebar-link">源码分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/SPI.html#spi-如何实现代码的解耦" class="sidebar-link">SPI 如何实现代码的解耦？</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/SPI.html#spi-适合什么场景下使用" class="sidebar-link">SPI 适合什么场景下使用？</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/SPI.html#使用-spi-的优势和劣势在哪里" class="sidebar-link">使用 SPI 的优势和劣势在哪里？</a></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/Spring.html" class="sidebar-link">Spring</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#事务" class="sidebar-link">事务</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#依赖注入" class="sidebar-link">依赖注入</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#spring-boot" class="sidebar-link">Spring Boot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#默认依赖管理" class="sidebar-link">默认依赖管理</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#配置方式" class="sidebar-link">配置方式</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#starters" class="sidebar-link">Starters</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#spring-cloud" class="sidebar-link">Spring Cloud</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#spring-security" class="sidebar-link">Spring Security</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#spring-taskscheduler" class="sidebar-link">Spring TaskScheduler</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#spring-mvc" class="sidebar-link">Spring MVC</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#spring-aop原理" class="sidebar-link">Spring AOP原理</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#jdk动态代理" class="sidebar-link">JDK动态代理:</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#cglib" class="sidebar-link">Cglib</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Spring.html#lombok原理" class="sidebar-link">Lombok原理</a></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/Tomcat.html" class="sidebar-link">Tomcat</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#执行器-线程池" class="sidebar-link">执行器（线程池）</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#连接器优化" class="sidebar-link">连接器优化</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#禁用ajp连接器" class="sidebar-link">禁用AJP连接器</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#http头的验证" class="sidebar-link">http头的验证</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#tomcat热部署" class="sidebar-link">Tomcat热部署</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#_403accessdenied" class="sidebar-link">403AccessDenied</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#centos安装tomcat" class="sidebar-link">CentOS安装Tomcat</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/Tomcat.html#window运行" class="sidebar-link">window运行</a></li></ul></li><li><a href="/vuePress-web-view/《Java》笔记/首页.html" class="sidebar-link">首页</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/首页.html#flag" class="sidebar-link">Flag</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/首页.html#学习" class="sidebar-link">学习</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/首页.html#第三方库" class="sidebar-link">第三方库</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/首页.html#dubbo" class="sidebar-link">Dubbo</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/首页.html#各种好的项目" class="sidebar-link">各种好的项目</a></li><li class="sidebar-sub-header"><a href="/vuePress-web-view/《Java》笔记/首页.html#javafx" class="sidebar-link">JavaFX</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《Python》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《React》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《SQL》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《Shell》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《System》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《TypeScript 实现 axios》</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《Vue》笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spi"><a href="#spi" class="header-anchor">#</a> SPI</h1> <p></p><div class="table-of-contents"><ul><li><a href="#flag">Flag</a></li><li><a href="#什么是-spi">什么是 SPI？</a></li><li><a href="#jdk-中的-spi">JDK 中的 SPI</a><ul><li><a href="#实例以及测试">实例以及测试</a></li><li><a href="#源码分析">源码分析</a></li></ul></li><li><a href="#spi-如何实现代码的解耦">SPI 如何实现代码的解耦？</a></li><li><a href="#spi-适合什么场景下使用">SPI 适合什么场景下使用？</a></li><li><a href="#使用-spi-的优势和劣势在哪里">使用 SPI 的优势和劣势在哪里？</a></li></ul></div><p></p> <h2 id="flag"><a href="#flag" class="header-anchor">#</a> Flag</h2> <ul><li><a href="https://blog.csdn.net/shang_xs/article/details/86560469" target="_blank" rel="noopener noreferrer">从Java SPI机制实现到Dubbo SPI扩展<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/shang_xs/article/details/86560691" target="_blank" rel="noopener noreferrer">从Java SPI机制实现到Spring Boot SPI扩展<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.jianshu.com/p/25b3559ecc47" target="_blank" rel="noopener noreferrer">AVA SPI机制详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.jianshu.com/p/3a3edbcd8f24" target="_blank" rel="noopener noreferrer">深入理解SPI机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <ul><li><a href="https://github.com/osgi" target="_blank" rel="noopener noreferrer">OSGI（Open Service Gateway Initiative）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，是一个由OSGi Alliance发起的以Java为技术平台的动态模块化规范</li> <li>Jigsaw Java9 modules</li> <li>观察者设计模式 <a href="https://blog.csdn.net/wanggang514260663/article/details/86138144" target="_blank" rel="noopener noreferrer">Java设计模式之观察者模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Spring 实现<code>ApplicationContextAware</code>接口获取到指定接口的所有实现</li></ul> <ul><li><a href="https://github.com/Enaium/BullPlugin" target="_blank" rel="noopener noreferrer">https://github.com/Enaium/BullPlugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>springboot插件式开发框架 <a href="https://gitee.com/starblues/springboot-plugin-framework-parents" target="_blank" rel="noopener noreferrer">https://gitee.com/starblues/springboot-plugin-framework-parent<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><strong>热插拔/热加载/热部署/热更新/HotSwap</strong></p> <ul><li><a href="https://www.jrebel.com/products/jrebel/download" target="_blank" rel="noopener noreferrer">https://www.jrebel.com/products/jrebel/download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li><a href="http://jrebel.cicoding.cn" target="_blank" rel="noopener noreferrer">http://jrebel.cicoding.cn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://jrebel.cicoding.cn/guid" target="_blank" rel="noopener noreferrer">http://jrebel.cicoding.cn/guid<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><a href="https://github.com/spring-projects/spring-loaded" target="_blank" rel="noopener noreferrer">https://github.com/spring-projects/spring-loaded<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/HotswapProjects" target="_blank" rel="noopener noreferrer">https://github.com/HotswapProjects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li><a href="https://github.com/TravaOpenJDK" target="_blank" rel="noopener noreferrer">https://github.com/TravaOpenJDK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><a href="https://github.com/dcevm" target="_blank" rel="noopener noreferrer">https://github.com/dcevm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li><a href="https://ssw.jku.at/dcevm" target="_blank" rel="noopener noreferrer">https://ssw.jku.at/dcevm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><a href="https://github.com/fakereplace" target="_blank" rel="noopener noreferrer">https://github.com/fakereplace<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/jmarranz/relproxy" target="_blank" rel="noopener noreferrer">https://github.com/jmarranz/relproxy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/cm4j" target="_blank" rel="noopener noreferrer">https://github.com/cm4j<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <ul><li><a href="https://github.com/dmitry-zhuravlev/hotswap-agent-intellij-plugin#solution" target="_blank" rel="noopener noreferrer">https://github.com/dmitry-zhuravlev/hotswap-agent-intellij-plugin#solution<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mp.weixin.qq.com/s/ydupBExb2LLhtC2ZuBsInA" target="_blank" rel="noopener noreferrer">深入探索 Java 热部署<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/q/1010000041393137" target="_blank" rel="noopener noreferrer">java热更新class如何实现？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/qq_36434742/article/details/117227309" target="_blank" rel="noopener noreferrer">Java的类加载机制及热部署的原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="什么是-spi"><a href="#什么是-spi" class="header-anchor">#</a> 什么是 SPI？</h2> <p>SPI 全称为（Service Provider Interface），字面意思为服务提供者接口，是<strong>JDK 内置的一种服务提供发现机制</strong>。
这一机制为很多框架的扩展提供了可能，比如在 Dubbo、JDBC、Spring Boot 中都使用到了 SPI 机制。
说白了就是提供给“服务提供厂商”或者“插件开发者”使用的接口</p> <p>SPI 是一种动态发现替换机制，例如我们在学习 Java Web 的时候连接数据库使用的 java.sql.Driver 接口，可以根据不同的驱动，
连接不同的数据库，如常用的 MySQL 或者 Oracle 数据库,，我们在使用 JDBC 连接数据库的时候首先需要的就是连接驱动：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>加载 MySQL 驱动后，就会 执行其中的静态代码，把 Driver 注册到 DriverManager 中那么通过数据库的 url、用户名、密码，
我们就可以成功连接到你的 MySQL 数据库并可以进行相应的操作，如果你要更换成 Oracle 数据库，那么就需要更换对应的驱动，
下面是 JDBC 连接数据库的一个步骤，帮助大家回忆：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//声明数据库驱动，数据源的 url，用于登录数据库的账户和密码（将其他功能封装成方法的时候方便使用）</span>
<span class="token class-name">String</span> driver <span class="token operator">=</span> <span class="token string">&quot;数据库驱动名称&quot;</span>；
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;数据库连接地址&quot;</span><span class="token class-name">String</span> user <span class="token operator">=</span> <span class="token string">&quot;用来连接数据库的用户名&quot;</span>；
<span class="token class-name">String</span> pwd <span class="token operator">=</span> <span class="token string">&quot;用来连接数据库的密码&quot;</span>；
<span class="token comment">//加载数据库驱动  </span>
<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//根据 url 创建数据库连接对象 Connection </span>
<span class="token class-name">Connection</span> con <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>user<span class="token punctuation">,</span>pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//用数据库连接对象创建 Statement 对象(或 PrepareStatement)</span>
<span class="token class-name">Statement</span> s <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//或</span>
<span class="token class-name">PrepareStatement</span> ps <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">con<span class="token punctuation">.</span></span>PrepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//做数据库的增删改查工作</span>
<span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//关闭结果集对象 Resultset，statement 对象，connection 对象，</span>
rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
con<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//各个步骤的异常处理</span>
</code></pre></div><p>结合上面的代码和下面的图片来简单分析一下。</p> <p>我们在使用 MySQL 的数据库时，需要导入一个 MySQL 的连接驱动包，打开这个驱动包，你会发现在下图的目录中有一个文件，
<code>Class.forName(driver)</code> 它会去找到这个 com.mysql.jdbc.Driver 的类，然后用 DriverManager 加载这个类，
然后再去使用这个类中的方法，例如 <code>con.PrepareStatement(sql);</code> 就是使用的 com.mysql.jdbc.Driver 这个类中的方法，
同理如果你将驱动换成 Oracle，那么 DriverManager 就会得到 Oracle 的连接对象，那么 <code>con.PrepareStatement(sql);</code>
调用的就是 Oracle 对应驱动中的方法，也就是说，如果我们将数据库换成 Orale，理论上，上面的操作数据库的代码是不需要变动的，
只需要更换驱动、url 和账号密码，这部分我们后面都是以配置文件的形式写入，所以很好的将代码和数据库解耦了。</p> <p>下图是我在网上找到图片：</p> <p><img src="https://images.gitbook.cn/b15400e0-69bd-11eb-8f82-1d786eda1f74" alt="来源于博客员作者：架构之路"></p> <p>如果你还是不能很好的理解，没有关系，接下来，我们就慢慢剖析这个 SPI。</p> <h2 id="jdk-中的-spi"><a href="#jdk-中的-spi" class="header-anchor">#</a> JDK 中的 SPI</h2> <h3 id="实例以及测试"><a href="#实例以及测试" class="header-anchor">#</a> 实例以及测试</h3> <p>我们先从 JDK 开始，通过一个很简单的例子来看下它是怎么用的。</p> <p>这是例子的代码结构：</p> <p><img src="https://images.gitbook.cn/5d9e7d50-6b47-11eb-b964-590e861bb8fd" alt="在这里插入图片描述"></p> <p>首先，我们需要定义一个接口 SPIService。</p> <p>这个接口只有一个打印的方法：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> interfaceSPIService <span class="token punctuation">{</span>
    <span class="token function">voidprint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后我们再定义一个实现类，只做打印输出：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> classSPIServiceImplimplementsSPIService<span class="token punctuation">{</span>
    <span class="token function">publicvoidprint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;print..............&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后我们需要在 resources 下创建文件夹：META-INF/services
然后在 services 文件夹下创建文件，文件名就是服务接口的全限定类名：</p> <p><img src="https://images.gitbook.cn/de1d1820-6b4b-11eb-a8aa-992450a0658d" alt="在这里插入图片描述"></p> <p>文件的内容就是该接口的实现类的全限定类名。</p> <p>文件内容：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>spi<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span>SPIServiceImpl</span>
</code></pre></div><p>然后我们就可以通过 ServiceLoader.load 方法拿到实现类的实例，并调用它的方法。</p> <p>我们在启动类中测试：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spi</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>spi<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">SPIService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Iterator</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ServiceLoader</span><span class="token punctuation">;</span>

publicclassSPIApplication<span class="token punctuation">{</span>
    <span class="token function">publicstaticvoidmain</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//加载类</span>
        <span class="token class-name">ServiceLoader</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SPIService</span><span class="token punctuation">&gt;</span></span> load <span class="token operator">=</span> <span class="token class-name">ServiceLoader</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">SPIService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SPIService</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> load<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//获取类的实例</span>
            <span class="token class-name">SPIService</span> service <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            service<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运行结果：</p> <p><img src="https://images.gitbook.cn/ae4b5070-6b4c-11eb-9226-31bcf945eb52" alt="在这里插入图片描述"></p> <h3 id="源码分析"><a href="#源码分析" class="header-anchor">#</a> 源码分析</h3> <p>首先，我们先来了解下 ServiceLoader，看看它的类结构：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> finalclassServiceLoader<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">&gt;</span></span> implementsIterable<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>
    <span class="token comment">//配置文件的路径privatestaticfinal String PREFIX = &quot;META-INF/services/&quot;;</span>
    <span class="token comment">//加载的服务类或接口privatefinal Class&lt;S&gt; service;</span>
    <span class="token comment">//已加载的服务类集合private LinkedHashMap&lt;String,S&gt; providers = new LinkedHashMap&lt;&gt;();</span>
    <span class="token comment">//类加载器privatefinal ClassLoader loader;</span>
    <span class="token comment">//内部类，真正加载服务类private LazyIterator lookupIterator;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当我们调用 load 方法时，并没有真正的去加载和查找服务类。而是调用了 ServiceLoader 的构造方法，
在这里最重要的是实例化了内部类 LazyIterator，ServiceLoader 才是接下来的主角：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">ServiceLoader</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">&gt;</span></span> svc<span class="token punctuation">,</span> <span class="token class-name">ClassLoadercl</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//要加载的接口</span>
    service <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>svc<span class="token punctuation">,</span> <span class="token string">&quot;Service interface cannot be null&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//类加载器</span>
    loader <span class="token operator">=</span> <span class="token punctuation">(</span>cl <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token class-name">ClassLoader</span><span class="token punctuation">.</span><span class="token function">getSystemClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> cl<span class="token punctuation">;</span>
    <span class="token comment">//访问控制器</span>
    acc <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getSecurityManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token class-name">AccessController</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">//先清空</span>
    providers<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//实例化内部类 </span>
    <span class="token class-name">LazyIterator</span> lookupIterator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LazyIterator</span><span class="token punctuation">(</span>service<span class="token punctuation">,</span> loader<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>查找实现类和创建实现类的过程，都在 LazyIterator 完成。当我们调用 iterator.hasNext 和 iterator.next 方法的时候，
实际上调用的都是 LazyIterator 的相应方法：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    returnnew <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">publicbooleanhasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> lookupIterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token class-name">S</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> lookupIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>因此，我们重点关注 <code>lookupIterator.hasNext()</code> 方法，它最终会调用到 <code>hasNextService</code>，在这里返回实现类名称：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> classLazyIteratorimplementsIterator<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>
    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">&gt;</span></span> service<span class="token punctuation">;</span>
    <span class="token class-name">ClassLoader</span> loader<span class="token punctuation">;</span>
    <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span>URL<span class="token punctuation">&gt;</span></span> configs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pending <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> nextName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    
    <span class="token function">privatebooleanhasNextService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 第二次调用的时候，已经解析完成了，直接返回</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nextName <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            returntrue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>configs <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// META-INF/services/ 加上接口的全限定类名，就是文件服务类的文件</span>
            <span class="token comment">// META-INF/services/com.viewscenes.netsupervisor.spi.SPIService</span>
            <span class="token class-name">String</span> fullName <span class="token operator">=</span> PREFIX <span class="token operator">+</span> service<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//将文件路径转成 URL 对象</span>
            configs <span class="token operator">=</span> loader<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>pending <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>pending<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//解析 URL 文件对象，读取内容，最后返回</span>
            pending <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span>service<span class="token punctuation">,</span> configs<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//拿到第一个实现类的类名</span>
        nextName <span class="token operator">=</span> pending<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        returntrue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后当我们调用 <code>next()</code> 方法的时候，调用到 <code>lookupIterator.nextService</code>，它通过反射的方式，创建实现类的实例并返回：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">S</span> <span class="token function">nextService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//全限定类名</span>
    <span class="token class-name">String</span> cn <span class="token operator">=</span> nextName<span class="token punctuation">;</span>
    nextName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">//创建类的 Class 对象</span>
    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>cn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> loader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//通过 newInstance 实例化</span>
    <span class="token class-name">S</span> p <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">cast</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//放入集合，返回实例</span>
    providers<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>cn<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> p<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>到这为止，已经获取到了类的实例，这就是 SPI 机制的一个内部原理。</p> <h2 id="spi-如何实现代码的解耦"><a href="#spi-如何实现代码的解耦" class="header-anchor">#</a> SPI 如何实现代码的解耦？</h2> <p>其实在前面提到 JDBC 的时候已经大致了解了 SPI 解耦，那么我们就再结合前面的实例，用通俗的语言概述一下吧。</p> <p>我们可以通过下面这个简单的流程图来进一步理解 SPI 是如何解耦和扩展的。</p> <p>首先需要定义一个标准化的服务接口，例如上面的实例 SPIService，里面有一些服务例如 print，然后实现这个接口，
我们暂定它为实现类 A（SPIServiceImpl），它实现的 print 方法里面可以自定义实现内容，如果现在要求说要再增加一种打印的方式，
但是保留之前的 print 的打印方式，那么我们就可以再定义一个实现类 B 去实现这个标准化的服务接口，如果后面再增加新的打印方式也一样，
直接加，或者某一种不需要了，直接去掉即可。</p> <p>那么由此可见，它是将标准的服务接口与服务提供方实现类进行解耦的，我们可以思考一下，它进行扩展是非常方便的，只需要实现标准服务接口，
然后在 <code>META-INF/services</code> 对应的文件中添加该实现类的全限定类名，然后在实现类的方法中填充实现就可以了。</p> <p>但如果你要是想修改标准服务接口的方法定义，那么就比较麻烦了，只要是实现这个接口的类都需要改，也就是软件设计原则提到的<strong>开闭原则</strong>，
因此我们需要一开始就设计好标准服务接口的内容，保证软件系统的稳定性和延续性。</p> <p><img src="https://images.gitbook.cn/dd2c5030-7185-11eb-b964-590e861bb8fd" alt="在这里插入图片描述"></p> <h2 id="spi-适合什么场景下使用"><a href="#spi-适合什么场景下使用" class="header-anchor">#</a> SPI 适合什么场景下使用？</h2> <p>比较常见的例子：</p> <ol><li>数据库驱动加载接口实现类的加载：JDBC 加载不同类型数据库的驱动。</li> <li>日志门面接口实现类加载：SLF4J 加载不同提供商的日志实现类。</li> <li>Spring：Spring 中大量使用了 SPI，比如：对 servlet3.0 规范对 ServletContainerInitializer 的实现、
自动类型转换 Type Conversion SPI（Converter SPI、Formatter SPI）等。</li> <li>Spring Boot 的自动配置：Spring Boot 的 Web 应用都能正常运行，Spring Boot 正是依靠自动配置来完成，
自动配置就是依靠 SpringFactoriesLoader 来加载的。</li> <li>Dubbo：Dubbo 中也大量使用 SPI 的方式实现框架的扩展，不过它对 Java 提供的原生 SPI 做了封装，允许用户扩展实现 Filter 接口。</li></ol> <p>概括地说，适用于：<strong>调用者根据实际使用需要，启用、扩展、或者替换方案（框架）的实现策略</strong>。</p> <p>很多地方写的是替换框架，但是我在这里改成了方案，更方便理解（如果这里有一些争议的话，欢迎大家在评论区留言），
实际上我们可以把每一个实现类都叫做一种方案，例如我们前面提到的 SPIService 的实现类 A 和 B，就是对 print 这个方法的两种方案，
SLF4J 加载不同提供商的日志实现类实际上也是加载不同的日志方案，因此实际上如果我们想在自己的项目中运用到 SPI，
那么它最好的使用就是对某一个事件不同方案的处理，例如给公司员工计算月/年薪资（里面包含了绩效、KPI、考勤、奖金等等），
公司针对不同的层级或者区域的员工有不同的方案，这个例子的事件就是薪资计算，不管你什么类型什么等级的员工，
计算薪资的总和都是这几项加起来的结果，不同的是每一项的根据不同的实现方案计算内容有一定的差别。</p> <h2 id="使用-spi-的优势和劣势在哪里"><a href="#使用-spi-的优势和劣势在哪里" class="header-anchor">#</a> 使用 SPI 的优势和劣势在哪里？</h2> <p><strong>优点：</strong></p> <p>不用多说，优势就是实现解耦，使得第三方服务模块的装配控制的逻辑与调用者的业务代码分离，而不是耦合在一起。
应用程序可以根据实际业务情况启用框架扩展或替换框架组件，或者调整不同的方案。<strong>满足软件设计的开闭原则</strong>。</p> <p><strong>缺点：</strong></p> <ol><li><p>虽然 ServiceLoader 也算是使用的延迟加载，<strong>但是基本只能通过遍历全部获取</strong>，也就是接口的实现类全部加载并实例化一遍，
如果你并不想用某些实现类，它也被加载并实例化了，这就造成了浪费。</p></li> <li><p><strong>获取某个实现类的方式不够灵活</strong>，只能通过 Iterator 形式获取，不能根据某个参数来获取对应的实现类。</p></li></ol> <p>一般我们在实际项目开发的时候，会使用枚举来确定不同方案，然后每个方案都有一个 getSchemeId 的方法用于返回这个方案对应的 ID，
通过这个 id 去筛选当前需要的方案。</p> <p>小例子：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//动态加载 SPIService 的所有方案实现类</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SPIService</span><span class="token punctuation">&gt;</span></span> services <span class="token operator">=</span> <span class="token class-name">SpiServiceLoader</span><span class="token punctuation">.</span><span class="token function">getService</span><span class="token punctuation">(</span><span class="token class-name">SPIService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SPIService</span> service<span class="token operator">:</span> services<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//获取当前这个人对应方案的实现类</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>service<span class="token punctuation">.</span><span class="token function">getSchemeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span><span class="token function">getSchemeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//使用这个方案的实现类</span>
        service<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这个里面 SpiServiceLoader 是自己封装的 SPI 加载器，相当于把前面实例中的 main 中的 ServiceLoader 和 Iterator 封装起来了。</p> <ol start="3"><li><strong>多个并发多线程使用 ServiceLoader 类的实例是不安全的。</strong> 实际上这个可以解决，我们在第 2 点的基础上修改。</li></ol> <p>自己封装的 SpiServiceLoader 在使用 getService 中会调用 ServiceLoader，那么我们给 getService 方法加上锁 <code>synchronized</code> 就可以解决并发的问题了。</p> <p>这里至于为什么没有放 SpiServiceLoader，是因为这个代码是公司的代码，不能随便用来写文章，所以，这里提供了思路，实现就没有那么难了。</p> <p>以上就是我对 SPI 机制的理解和总结，实际上真实的项目中远比这个要复杂。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuePress-web-view/《Java》笔记/ORM.html" class="prev">
        ORM
      </a></span> <span class="next"><a href="/vuePress-web-view/《Java》笔记/Spring.html">
        Spring
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuePress-web-view/assets/js/app.0674b7fb.js" defer></script><script src="/vuePress-web-view/assets/js/2.d261dd2c.js" defer></script><script src="/vuePress-web-view/assets/js/171.2d33cace.js" defer></script>
  </body>
</html>
